# Модель прецедентів

**Діаграма прецедентів**

## Загальна схема

@startuml

    actor "Користувач" as User
    actor "Тімлід" as Teamlead
    actor "Замовник" as Customer
    actor "Розробник" as Developer

    usecase "<b>SignUp</b>\nРеєстрація" as SignUp
    usecase "<b>SignIn</b>\nАвторизація" as SignIn
    usecase "<b>CreateProject</b>\nСтворити новий проєкт" as CreateProject
    usecase "<b>DeleteProject</b>\nВидалити проєкт" as DeleteProject
    usecase "<b>ProjectManage</b>\nУправління проектом" as ProjectManage
    usecase "<b>PayServices</b>\nОплатити послуги розробки" as PayServices
    usecase "<b>LeaveReview</b>\nЗалишити відгук" as LeaveReview
    usecase "<b>DevelopersManage</b>\nКерування розробниками" as DevelopersManage
    usecase "<b>DevelopmentManage</b>\nУправління розробкою проекту" as DevelopmentManage
    usecase "<b>MakeChange</b>\nВнесення змін до проекту" as MakeChange

    Developer -u-> User
    Customer -u-> User
    Teamlead -u-> Developer

    User -u-> SignUp
    User -u-> SignIn
    User -u-> CreateProject
    User -u-> DeleteProject

    Customer -r->  ProjectManage
    Customer -->  PayServices
    Customer -->  LeaveReview

    Teamlead --> DevelopersManage
    Teamlead --> DevelopmentManage

    Developer -l-> MakeChange

@enduml

## Робітник

<center style="
   border-radius:4px;
   border: 1px solid #cfd7e6;
   box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
   padding: 1em;"
>

@startuml

    skinparam noteFontColor white

    actor "Розробник" as Collaborator

    usecase "<b>SignUp</b>\nРеєстрація" as SignUp
    usecase "<b>SignIn</b>\nВхід" as SignIn
    usecase "<b>TaskManage</b>\nКерувати завданнями" as TaskManage
    usecase "<b>ChangeTaskStatus</b>\nЗмінити статус завдання" as ChangeTaskStatus
    usecase "<b>SendingTaskForReview</b>\nНадіслати завдання для огляду" as SendingTaskForReview

    Collaborator -l-> SignUp
    Collaborator -r-> SignIn
    Collaborator -u-> TaskManage
    TaskManage <.u. ChangeTaskStatus:extends
    TaskManage <.u. SendingTaskForReview:extends

    note bottom of Collaborator #4e4e4e

        Робітник, як і всі користувачі може зареєструватися і авторизовуватись
        Також він має дозвіл змінювати статус і надсилати завдання для огляду
        для завдань які він робить.
    end note

@enduml

</center>

| ID                 | <span id=SignUp>`SignUp`</span>                                                                                                                                                                                                                                                                                                                                       |
|:-------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Реєстрація.                                                                                                                                                                                                                                                                                                                                                               |
| Учасники:          | Користувач, Система.                                                                                                                                                                                                                                                                                                                                                      |
| Передумови:        | - Користувач не зареєстрований в системі.                                                                                                                                                                                                                                                                                                                                 |
| Результат:         | Користувач зареєстрований в системі.                                                                                                                                                                                                                                                                                                                                      |
| Виключні ситуації: | Користувач з таким ім'ям вже існує. <font color="red">SignUp_EX_UsernameExist</font><br> Логін Користувача недопустимий. <font color="red">SignUp_EX_UsernameNotAllowed</font><br> Користувач з таким email вже існує. <font color="red">SignUp_EX_EmailExist</font><br> Email користувача не допустимий або не існує. <font color="red">SignUp_EX_EmailNotAllowed</font> |

@startuml

    |Користувач|
    start;
    : Натискає кнопку "Реєстрація";

    |Система|
        : Відкриває форму реєстрації;

    |Користувач|
    : Вводить email, пароль, логін;
    : Натискає кнопку "Зареєструватися";

    |Система|
    : Реєструє Користувача в системі;
    note right #F08080
    <b> SignUp_EX_UsernameExist
    <b> SignUp_EX_UsernameNotAllowed
    <b> SignUp_EX_EmailExist
    <b> SignUp_EX_EmailNotAllowed
    end note

    : Надсилає підтвердження про реєстрацію;

    |Користувач|
    : Отримує підтверження про реєстрацію;
    stop;

@enduml

| ID                 | <span id=SignIn>`SignIn`</span>                                                                                                                                                              |
|:-------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Авторизація.                                                                                                                                                                                     |
| Учасники:          | Користувач, Система.                                                                                                                                                                             |
| Передумови:        | - Користувач зареєстрований в системі.                                                                                                                                                           |
| Результат:         | Користувач авторизований в системі.                                                                                                                                                              |
| Виключні ситуації: | Користувача з таким ім'ям не існує. <font color="red">SignIn_EX_UsernameNotExist</font><br> Логін або email і пароль не співпадають. <font color="red">SignIn_EX_UsernamePasswordNotMatch</font> |

@startuml

    |Користувач|
    start;
    : Натискає кнопку "Авторизуватись".;

    |Система|
        : Відкриває форму авторизації;

    |Користувач|
    : Вводить email або логін і пароль;
    : Натискає кнопку "Зареєструватися";

    |Система|
    : Авторизовує Користувача в системі.;
    note right #F08080
    <b> SignIn_EX_UsernameNotExist
    <b> SignIn_EX_UsernamePasswordNotMatch
    end note

    : Надсилає підтвердження про авторизацію Користувача;

    |Користувач|
    : Отримує підтверження про авторизацію;
    stop;

@enduml

| ID                 | <span id=ChangeProjectStatus>`ChangeProjectStatus`</span>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:-------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Змінити статус проекта.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Учасники:          | Замовник, Система.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Передумови:        | Проект існує в системі, замовник є власником проекту.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Результат:         | Статус проекта успішно змінений.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Виключні ситуації: | Замовник не є власником проекту. <font color="red">ChangeProjectStatus_EX_Unauthorized</font><br> Спроба змінити на недопустимий статус. <font color="red">ChangeProjectStatus_EX_InvalidStatus</font><br> Проект не знайдений в системі, спроба зміни статусу над неправильним проектом. <font color="red">ChangeProjectStatus_EX_ProjectNotFound</font><br> Виникла внутрішня помилка системи під час спроби зміни статусу проекта. <font color="red">ChangeProjectStatus_EX_InternalError</font> |

@startuml

    |Користувач|
    start;
    : Входить в систему;

    |Користувач|
    : Обирає конкретний проект, для якого він хоче змінити статус;
    note left #F08080
    <b> ChangeProjectStatus_EX_Unauthorized
    <b> ChangeProjectStatus_EX_ProjectNotFound
    end note

    |Користувач|
    : Обирає новий статус для проекта з доступних опцій;
    note left #F08080
    <b> ChangeProjectStatus_EX_InvalidStatus
    end note

    |Користувач|
    : Підтверджує зміну статусу проекта;
    note left #F08080
    <b> ChangeProjectStatus_EX_InternalError
    end note

    |Система|
    : Перевіряє, чи має замовник права на зміну статусу даного проекту
        та чи є новий статус допустимим для зміни.;

    : Система змінює статус проекта на новий;

    : Система автоматично надсилає повідомлення
    всім учасникам проекту про зміну статусу.;
    stop;

@enduml

| ID                 | <span id=DeleteDeveloper>`DeleteDeveloper`</span>                              |
|:-------------------|:-------------------------------------------------------------------------------|
| Назва:             | Видалити розробника                                                            |
| Учасники:          | Розробник, Тімлід, Система                                                     |
| Передумови:        | Тімлід авторизувався у системі                                                 |
| Результат:         | Розробника видалено                                                            |
| Виключні ситуації: | Розробника не існує. <font color="red">DeleteDeveloper_EX_NotExist </font><br> |

@startuml

    |Тімлід|
    start;
    : Відкриває меню розробників;

    |Тімлід|
    : Обирає потрібного розробника з списку;

    |Система|
    : Виділяє потрібного розробника;

    |Тімлід|
    : Натискає "Видалити";

    |Система|
    : Просить підтверження;

    |Тімлід|
    : Натискає "Так";
    
    |Система|
    : Перевіряє наявість розробника;
    note right #F08080
    <b> DeleteDeveloper_EX_NotExist
    end note
    : Система видаляє розробника;
    stop;

@enduml

| ID                 | <span id=ChangeStatus>`ChangeStatus`</span>                                       |
|:-------------------|:----------------------------------------------------------------------------------|
| Назва:             | Змінити статус розробки проєкту                                                   |
| Учасники:          | Тімлід, Система                                                                   |
| Передумови:        | Тімлід авторизувався у системі <br> Проєкт вже створено                           |
| Результат:         | Статус проєкту змінився                                                           |
| Виключні ситуації: | Проєкта не існує. <font color="red">ChangeStatus_EX_UnexistingProject </font><br> |

@startuml

    |Тімлід|
    start;
    : Відкриває меню проєктів;

    |Тімлід|
    : Натискає на кнопку "Змінити статус";

    |Система|
    : Пропонує можливі статуси проєкту;

    |Тімлід|
    : Обирає потрібний статус;

    |Система|
    : Просить підтверження;

    |Тімлід|
    : Натискає кнопку "Зберегти зміни";
    
    |Система|
    : Змінює статус проєкту;
    note right #F08080
    <b> ChangeStatus_EX_UnexistingProject
    end note
    stop;

@enduml

| ID                 | <span id=AddTask>`AddTask`</span>                                                                                                                          |
|:-------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Додати нову задачу до проекту                                                                                                                              |
| Учасники:          | Тімлід, Система                                                                                                                                            |
| Передумови:        | Тімлід авторизувався у системі <br> Проєкт вже створено                                                                                                    |
| Результат:         | Задача додана до проекту                                                                                                                                   |
| Виключні ситуації: | Задача вже існує. <font color="red">ChangeStatus_EX_UnexistingProject </font><br> Дані містять помилку. <font color="red">AddTask_EX_ErrorData </font><br> |

@startuml

    |Тімлід|
    start;
    : Відкриває меню задач;

    |Тімлід|
    : Натискає на кнопку "Додати задачу";

    |Система|
    : Відкриває меню додавання задачі;

    |Тімлід|
    : Вводить дані для задачі;

    |Тімлід|
    : Натискає кнопку "Додати";
    
    |Система|
    : Перевіряє правильність даних;
    note right #F08080
    <b> AddTask_EX_ErrorData
    end note

    : Перевіряє дані задачі;
    note right #F08080
    <b> AddTask_EX_AlreadyAdd
    end note
    
    : Додає задачу;
    stop;

@enduml

| ID                 | <span id=CreateProject>`CreateProject`</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|:-------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
| Назва:             | Створити новий проєкт                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Учасники:          | Замовник, Cистема                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Передумови:        | Замовник авторизувався у системі <br> Проєкт не є створеним                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Результат:         | Новий проєкт                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Виключні ситуації: | Клієнт намагається створити новий проєкт в системі, з назвою вже існуючого проєкта:<br><font color="red">CreateProject_EX_DuplicateProjectNameError. </font><br> Клієнт намагається створити новий проєкт, але вже досягнув максимальної дозволеної кількості проєктів у системі або обмеження для свого облікового запису:<br><font color="red">CreateProject_EX_ProjectLimitExceededError. </font><br> Cтворення нового проєкту неможливе через тимчасові проблеми з мережею або інфраструктурою серверів. Система спробує автоматично відновити з'єднання:<br><font color="red">CreateProject_EX_NetworkError. </font> |

@startuml

    |Замовник|
    start;
    : Користувач відкриває розділ з проєктами;
    : Користувач натискає на кнопку "Новий проєкт";

    |Система|
    : Система відкриває форму зі створення проєкту;

    |Замовник|
    : Користувач вводить дані
    (назва,опис,залучені особи)
    про новий проєкт;
    note left #F08080
    <b> CreateProject_EX_DuplicateProjectNameError
    end note
    : Користувач натискає на кнопку "Створити";
    note left #F08080
    <b> CreateProject_EX_NetworkError
    end note
      
    |Система|
    : Система перевіряє кількість
    вже створених користувачем
    проєктів і максимальний ліміт
    кількості проєктів
    для заданого користувача;
    note right #F08080
    <b> CreateProject_EX_ProjectLimitExceededError
    end note
    : Система добавляє новостворений проєкт до списку існуючих;
    : Система надсилає повідомлення про успішне створення проєкту;
    stop;
   
@enduml

| ID                 | <span id=DeleteProject>`DeleteProject`</span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|:-------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Видалити проєкт                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Учасники:          | Замовник, Cистема                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Передумови:        | Замовник авторизувався у системі <br> Проєкт вже створений                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Результат:         | Проєкт видалений                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Виключні ситуації: | Клієнт не підтвердив своє бажання видалити проєкт:<br><font color="red">DeleteProject_EX_ConfirmationRequiredError. </font><br> Видалення проєкту неможливе через тимчасові проблеми з мережею або інфраструктурою серверів. Система спробує автоматично відновити з'єднання:<br><font color="red">DeleteProject_EX_NetworkError. </font><br> Видалення проєкту неможливе через відсутність прав доступу:<br><font color="red">DeleteProject_EX_UnauthorizedDeletionError. </font>|

@startuml

    |Замовник|
    start;
    : Користувач відкриває розділ з проєктами;
    : Користувач натискає на ім'я проєкту;

    |Система|
    : Система відкриває сторінку з проєктом;

    |Замовник|
    : Користувач натискає
      на кнопку "Налаштування проєкту";
      
    |Система|
    : Система відкриває сторінку
     з налаштуваннями проєкту;
    
    |Замовник|
    : Користувач натискає
     на кнопку "Видалити цей проєкт";
    note left #F08080
    <b> DeleteProject_EX_UnauthorizedDeletionError
    end note

    |Система|
    : Система відкриває віконце з попередженнями,
     і полем для верифікації підтвердження;

    |Замовник|
    : Користувач вводить в поле свій нікнейм;
    : Користувач натискає
     кнопку "Підтвердити видалення проєкту";
    note left #F08080
    <b> DeleteProject_EX_ConfirmationRequiredError
    end note

    |Система|
    : Система видаляє проєкт зі списку існуючих;
    note right #F08080
    <b> DeleteProject_EX_NetworkError
    end note
    : Система надсилає повідомлення
     про успішне видалення проєкту;
    stop;

@enduml

| ID                 | <span id=PayServices>`PayServices`</span>                                                                                                                                                                             |
|:-------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Оплатити послуги розробки                                                                                                                                                                                             |
| Учасники:          | Замовник, система                                                                                                                                                                                                     |
| Передумови:        | Замовник авторизувався у системі                                                                                                                                                                                      |
| Результат:         | Замовник оплатив надані йому послуги                                                                                                                                                                                  |
| Виключні ситуації: | Клієнт не має достатньо коштів на рахунку:<br><font color="red">PayServices_EX_NotEnoughMoney. </font><br>Клієнт надав не правильні банківські дані:<br><font color="red">PayServices_EX_IncorrectBankDetails. </font>|

@startuml

    |Замовник|
    start;
    : Користувач відкриває розділ оплати;
    
    |Система|
    : Система підраховує сумму яку потрібно заплатити;
    : Система надає користувачеві сумму яку потрібно заплатити та всі необхідні дані для оплати;
    
    |Замовник|
    : Користувач натискає на кнопку "Оплата";
    : Користувач вводить свої банківські дані;
    : Користувач натискає на кнопку "Зробити транзакцію";
    
    |Система|
    
    : Система зв'язується з банком;
    note right  #F08080
    <b> PayServices_EX_IncorrectBankDetails
    end note
    : Система перевіряє дані та кошти на рахунку;
    note right #F08080
    <b> PayServices_EX_NotEnoughMoney
    end note
    : Система списує кошти;
    : Система надсилає підтвердження про успішну оплату у виді чеку;
    
    |Замовник|
    stop;

@enduml

| ID                 | <span id=LeaveReview>`LeaveReview`</span>                                           |
|:-------------------|:------------------------------------------------------------------------------------|
| Назва:             | Залишити відгук                                                                     |
| Учасники:          | Замовник, система                                                                   |
| Передумови:        | Замовник авторизувався у системі<br>Проект завершений                               |
| Результат:         | Замовник залишив відгук про надані йому послуги                                     |
| Виключні ситуації: | Проект ще не завершено:<br><font color="red">LeaveReview_EX_ProjectIsNotOver.</font>|

@startuml

    |Замовник|
    start;
    : Користувач відкриває сторінку команди;
    : Користувач переходить в розділ "Відгуки";
    
    |Система|
    : Система відкриває розділ з відгуками;
   
    |Замовник|
    : Користувач натискає на кнопку "Залишити відгук";
    
     |Система|
    : Система відкриває вікно залишення відгуку;
    
    |Замовник|
    : Користувач пише відгук та оцінює роботу команди;
    : Користувач натискає на кнопку "Залишити відкук";
    
    |Система|
    
    : Система зберігає відгук;
    note right  #F08080
    <b> LeaveReview_EX_ProjectIsNotOver
    end note
    : Система інформує користувача що відгук збережено;

    |Замовник|
    stop;

@enduml

| ID                 | <span id=AddingDeveloper>`AddingDeveloper`</span>                                                                                                                      |
|:-------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Назва:             | Додати розробника                                                                                                                                                      |
| Учасники:          | Розробник, Тімлід, система                                                                                                                                             |
| Передумови:        | Тімлід авторизувався у системі                                                                                                                                         |
| Результат:         | Розробника додано в систему                                                                                                                                            |
| Виключні ситуації: | Розробник вже існує:<br><font color="red">AddingDeveloper_EX_AlreadyOccupied.</font><br>Дані містять помилку:<br><font color="red">AddingDeveloper_EX_ErrorData.</font>|

@startuml

    |Тімлід|
    start;
    : Тімлід відкриває меню розробників;
    : Тімлід натискає "Додати розробника";
    
    |Система|
    : Система відкриває меню додавання розробника;
   
    |Тімлід|
    : Тімлід вводить дані розробника;
    : Тімлід натискає кнопку "Додати";
    
     |Система|
    : Система перевіряє правильність даних;
     note right  #F08080
    <b> AddingDeveloper_EX_ErrorData
    end note
    : Система перевіряє дані розробника;
     note right  #F08080
    <b> AddingDeveloper_EX_AlreadyOccupied
    end note
    : Система додає розробника;
    : Система висилає дані для авторизації розробнику на пошту;

    |Тімлід|
    stop;

@enduml